<main class="container mx-auto p-4 sm:p-6 lg:p-8">
  <!-- Header -->
  <header class="mb-8">
    <h1 class="text-3xl font-bold text-gray-800 flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-blue-500" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" />
      </svg>
      Capacity Planning Dashboard
    </h1>
    <p class="mt-1 text-gray-500">Monitor resource utilization and forecast future capacity needs.</p>
  </header>

  <div class="space-y-6">
    @for (service of servicesWithStatus(); track service.serviceId) {
      <a [routerLink]="['/capacity-planning', service.serviceId]" class="block group">
        <div class="bg-white rounded-lg shadow-md border-l-4 transition-all duration-300 group-hover:shadow-xl group-hover:scale-[1.02]"
             [class]="getBorderClass(service.overallStatus)">
          <div class="p-5">
            <h2 class="text-xl font-bold text-gray-800">{{ service.serviceName }}</h2>
            <div class="mt-4 space-y-3">
              @for(metric of service.metrics; track metric.name) {
                <div>
                  <div class="flex justify-between items-baseline mb-1">
                    <span class="text-sm font-medium text-gray-700">{{ metric.name }} Utilization</span>
                    <span class="text-xs font-mono text-gray-600">{{ metric.current | number:'1.0-0' }} / {{ metric.limit | number:'1.0-0' }} {{ metric.unit }}</span>
                  </div>
                  <div class="w-full bg-gray-200 rounded-full h-2.5">
                    <div class="h-2.5 rounded-full" [class]="getProgressBarClass(metric.status)" [style.width]="metric.usage + '%'"></div>
                  </div>
                </div>
              }
            </div>
          </div>
        </div>
      </a>
    }
  </div>
</main>