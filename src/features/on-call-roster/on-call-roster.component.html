<main class="container mx-auto p-4 sm:p-6 lg:p-8">
  <!-- Header -->
  <header class="mb-8">
    <div class="flex flex-wrap items-center justify-between gap-4">
      <div>
        <h1 class="text-3xl font-bold text-gray-800 flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mr-3 text-blue-500" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.5-2.962A3.75 3.75 0 0115 10.5c1.836 0 3.443.803 4.5 2.016m-4.5 2.016v-.184c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v.184m-4.5 2.016a9.094 9.094 0 00-3.742-.479 3 3 0 00-4.682 2.72m7.5-2.962V17.25a3.75 3.75 0 01-3.75 3.75h-1.5A3.75 3.75 0 016 17.25v-1.5" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 10.5a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.5A3.75 3.75 0 116 10.5 3.75 3.75 0 013 13.5z" />
          </svg>
          On-call Roster & Escalation
        </h1>
        <p class="mt-1 text-gray-500">Live on-call schedule and contact information for operational towers.</p>
      </div>
      <div class="bg-white p-3 rounded-lg shadow-sm border border-gray-200">
        <p class="text-sm font-medium text-gray-500">Current Time</p>
        <p class="text-lg font-semibold text-blue-600">{{ currentTime() | date:'medium' }}</p>
      </div>
    </div>
  </header>

  <!-- Roster Grid -->
  <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-8">
    @for(roster of rosters(); track roster.team) {
      <div class="bg-white rounded-lg shadow-md border border-gray-200">
        <div class="p-4 border-b bg-gray-50">
          <h2 class="text-xl font-bold text-gray-800">{{ roster.tower }}</h2>
          <p class="text-sm text-gray-500">{{ roster.team }}</p>
        </div>
        <div class="p-6 space-y-6">
          <!-- Primary -->
          <div class="flex items-center gap-4">
            <img class="w-16 h-16 rounded-full object-cover" [src]="roster.currentShift.primary.avatarUrl" [alt]="roster.currentShift.primary.name">
            <div class="flex-grow">
              <div class="flex justify-between items-center">
                <p class="font-bold text-lg text-gray-900">{{ roster.currentShift.primary.name }}</p>
                <span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-green-100 text-green-800 border border-green-200">
                  PRIMARY
                </span>
              </div>
              <div class="flex items-center gap-4 mt-2 text-sm text-gray-600">
                <a [href]="'tel:' + roster.currentShift.primary.phone" class="flex items-center hover:text-blue-600">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.518.759a11.037 11.037 0 006.18 6.18l.759-1.518a1 1 0 011.06-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg>
                  <span>{{ roster.currentShift.primary.phone }}</span>
                </a>
                <span class="flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" /></svg>
                  <span>{{ roster.currentShift.primary.chat }}</span>
                </span>
              </div>
            </div>
          </div>
          <!-- Secondary -->
           <div class="flex items-center gap-4">
            <img class="w-16 h-16 rounded-full object-cover" [src]="roster.currentShift.secondary.avatarUrl" [alt]="roster.currentShift.secondary.name">
            <div class="flex-grow">
              <div class="flex justify-between items-center">
                <p class="font-bold text-lg text-gray-900">{{ roster.currentShift.secondary.name }}</p>
                <span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-yellow-100 text-yellow-800 border border-yellow-200">
                  SECONDARY
                </span>
              </div>
              <div class="flex items-center gap-4 mt-2 text-sm text-gray-600">
                <a [href]="'tel:' + roster.currentShift.secondary.phone" class="flex items-center hover:text-blue-600">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.518.759a11.037 11.037 0 006.18 6.18l.759-1.518a1 1 0 011.06-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg>
                  <span>{{ roster.currentShift.secondary.phone }}</span>
                </a>
                <span class="flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" /></svg>
                  <span>{{ roster.currentShift.secondary.chat }}</span>
                </span>
              </div>
            </div>
          </div>
          <!-- Manager -->
           <div class="flex items-center gap-4 border-t pt-6">
            <img class="w-16 h-16 rounded-full object-cover" [src]="roster.currentShift.manager.avatarUrl" [alt]="roster.currentShift.manager.name">
            <div class="flex-grow">
              <div class="flex justify-between items-center">
                <p class="font-bold text-lg text-gray-900">{{ roster.currentShift.manager.name }}</p>
                <span class="text-xs font-semibold px-2.5 py-1 rounded-full bg-gray-100 text-gray-800 border border-gray-200">
                  MANAGER
                </span>
              </div>
              <div class="flex items-center gap-4 mt-2 text-sm text-gray-600">
                 <a [href]="'tel:' + roster.currentShift.manager.phone" class="flex items-center hover:text-blue-600">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 20 20" fill="currentColor"><path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.518.759a11.037 11.037 0 006.18 6.18l.759-1.518a1 1 0 011.06-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" /></svg>
                  <span>{{ roster.currentShift.manager.phone }}</span>
                </a>
                <span class="flex items-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z" clip-rule="evenodd" /></svg>
                  <span>{{ roster.currentShift.manager.chat }}</span>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    }
  </div>
</main>
